# Author: Lucas Vilas-Boas
# Year: 2025
# Repo: https://github.com/lucoiso/luvk

SET(SLANG_ENABLE_CUDA OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_TESTS OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_NVAPI OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_AFTERMATH OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_DX_ON_VK OFF CACHE BOOL "" FORCE)
SET(SLANG_EMBED_CORE_MODULE_SOURCE ON CACHE BOOL "" FORCE)
SET(SLANG_EMBED_CORE_MODULE OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_SLANG_RHI OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_DXIL OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_FULL_IR_VALIDATION  OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_IR_BREAK_ALLOC OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_ASAN OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_COVERAGE OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_PREBUILT_BINARIES ON CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_GFX OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_SLANGD OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_SLANGC ON CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_SLANGI OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_SLANGRT OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_SLANG_GLSLANG OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_EXAMPLES OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_REPLAYER OFF CACHE BOOL "" FORCE)
SET(SLANG_GITHUB_TOKEN OFF CACHE BOOL "" FORCE)
SET(SLANG_USE_SYSTEM_MINIZ OFF CACHE BOOL "" FORCE)
SET(SLANG_USE_SYSTEM_LZ4 OFF CACHE BOOL "" FORCE)
SET(SLANG_USE_SYSTEM_VULKAN_HEADERS OFF CACHE BOOL "" FORCE)
SET(SLANG_USE_SYSTEM_SPIRV_HEADERS OFF CACHE BOOL "" FORCE)
SET(SLANG_USE_SYSTEM_UNORDERED_DENSE OFF CACHE BOOL "" FORCE)
SET(SLANG_USE_SYSTEM_SPIRV_TOOLS OFF CACHE BOOL "" FORCE)
SET(SLANG_USE_SYSTEM_GLSLANG OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_SPIRV_TOOLS_MIMALLOC OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_RELEASE_DEBUG_INFO OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_RELEASE_LTO OFF CACHE BOOL "" FORCE)
SET(SLANG_ENABLE_SPLIT_DEBUG_INFO OFF CACHE BOOL "" FORCE)
SET(SLANG_SLANG_LLVM_FLAVOR DISABLE CACHE STRING "" FORCE)
SET(SLANG_OVERRIDE_LZ4_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_MINIZ_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_UNORDERED_DENSE_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_VULKAN_HEADERS_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_SPIRV_HEADERS_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_SPIRV_TOOLS_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_GLSLANG_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_GLM_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_IMGUI_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_SLANG_RHI_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_TINYOBJLOADER_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_LUA_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_OVERRIDE_MIMALLOC_PATH OFF CACHE BOOL "" FORCE)
SET(SLANG_EXCLUDE_DAWN ON CACHE BOOL "" FORCE)
SET(SLANG_EXCLUDE_TINT ON CACHE BOOL "" FORCE)

INCLUDE(FetchSlangHelper.cmake)
FETCH_SLANG(VERSION 2024.14.4 COMPONENTS slang)

TARGET_INCLUDE_DIRECTORIES(slang INTERFACE ${slang_SOURCE_DIR})

TARGET_LINK_LIBRARIES(${LIBRARY_NAME} PUBLIC slang)

STRING(TOUPPER ${LIBRARY_NAME} UPPER_LIBRARY_NAME)
TARGET_COMPILE_DEFINITIONS(${LIBRARY_NAME} PUBLIC "${UPPER_LIBRARY_NAME}_SLANG_INCLUDED")